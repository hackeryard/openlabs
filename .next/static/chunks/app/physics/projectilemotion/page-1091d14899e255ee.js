(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{3960:function(e,t,n){Promise.resolve().then(n.bind(n,391)),Promise.resolve().then(n.bind(n,1523)),Promise.resolve().then(n.bind(n,49))},391:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(7437),l=n(2265);function s(e){let{initialSpeed:t=20,initialAngle:n=45,initialHeight:s=0,initialGravity:r=9.81}=e,i=(0,l.useRef)(null),c=(0,l.useRef)(null),o=(0,l.useRef)([]),d=(0,l.useRef)(0),u=(0,l.useRef)({x:0,y:s}),m=(0,l.useRef)({vx:t*Math.cos(n*Math.PI/180),vy:t*Math.sin(n*Math.PI/180)}),[x,h]=(0,l.useState)(t),[p,g]=(0,l.useState)(n),[f,b]=(0,l.useState)(s),[j,v]=(0,l.useState)(r),[y,N]=(0,l.useState)(!0),[w,S]=(0,l.useState)(0),[M,k]=(0,l.useState)(null),[R,C]=(0,l.useState)(null),[P,F]=(0,l.useState)(null),[T,_]=(0,l.useState)(!1),L=(0,l.useRef)({start:null,elapsed:0}),[O,E]=(0,l.useState)("0.000"),[I,U]=(0,l.useState)([]),[D,q]=(0,l.useState)([]),[A,J]=(0,l.useState)("angle"),[W,B]=(0,l.useState)(10),[H,z]=(0,l.useState)(80),[V,G]=(0,l.useState)(8),[K,Q]=(0,l.useState)([]),[X,Y]=(0,l.useState)(!1),[Z,$]=(0,l.useState)(.05),[ee,et]=(0,l.useState)(.01),en="openlabs_projectile_runs_v1";function ea(e,t,n,a){let l=t*Math.PI/180,s=e*Math.sin(l),r=-.5*a,i=s*s-4*r*n,c=null;i>=0&&(c=Math.max((-s+Math.sqrt(i))/(2*r),(-s-Math.sqrt(i))/(2*r),0));let o=null!==c?e*Math.cos(l)*c:null,d=n+s*s/(2*a);return k(c),C(o),F(d),{tof:c,range:o,maxH:d}}function el(){d.current=0,o.current=[],u.current={x:0,y:f};let e=p*Math.PI/180;m.current={vx:x*Math.cos(e),vy:x*Math.sin(e)},k(null),C(null),F(null),ea(x,p,f,j)}async function es(){Y(!0);let e=[],t=Math.max(2,Math.floor(V));for(let n=0;n<t;n++){let a=W+n/(t-1)*(H-W);if("angle"===A){let{range:t}=ea(x,a,f,j);e.push({angle:a,range:t}),Q(e=>[...e,{angle:a,range:t}])}else{let{range:t}=ea(a,p,f,j);e.push({speed:a,range:t}),Q(e=>[...e,{speed:a,range:t}])}await new Promise(e=>setTimeout(e,80))}Q(e),Y(!1)}return(0,l.useEffect)(()=>{ea(x,p,f,j),el()},[]),(0,l.useEffect)(()=>{let e=null;return T?(L.current.start||(L.current.start=performance.now()-1e3*L.current.elapsed),e=setInterval(()=>{E(((performance.now()-L.current.start)/1e3).toFixed(3))},40)):(L.current.start&&(L.current.elapsed=(performance.now()-L.current.start)/1e3),E(L.current.elapsed.toFixed(3))),()=>clearInterval(e)},[T]),(0,l.useEffect)(()=>{let e=i.current;if(!e)return;let t=e.getContext("2d");function n(){let n=e.parentElement,a=n?Math.min(1e3,Math.max(320,n.clientWidth-8)):800,l=Math.round(Math.max(240,Math.min(600,.6*a))),s=window.devicePixelRatio||1;e.width=Math.round(a*s),e.height=Math.round(l*s),e.style.width="".concat(a,"px"),e.style.height="".concat(l,"px"),t.setTransform(s,0,0,s,0,0)}n(),window.addEventListener("resize",n),el();let a=1/120,l=0,s=performance.now();return c.current=requestAnimationFrame(function n(r){let i=Math.min(.05,(r-s)/1e3);if(s=r,y)for(l+=i;l>=a;){if(m.current.vy-=j*a,u.current.x+=m.current.vx*a,u.current.y+=m.current.vy*a,d.current+=a,o.current.push({t:d.current,x:u.current.x,y:u.current.y}),o.current.length>3e3&&o.current.shift(),u.current.y<=0){let e=o.current.length;if(e>=2){let t=o.current[e-2],n=o.current[e-1],a=t.y===n.y?0:(0-t.y)/(n.y-t.y),l=t.t+a*(n.t-t.t),s=t.x+a*(n.x-t.x);o.current[e-1]={t:l,x:s,y:0},k(l),C(s),F(e=>e||Math.max(...o.current.map(e=>e.y)))}N(!1);break}l-=a}(function(e,t){let n=t.clientWidth,a=t.clientHeight;e.clearRect(0,0,n,a),e.fillStyle="#f8fafc",e.fillRect(0,0,n,a),e.strokeStyle="#94a3b8",e.beginPath(),e.moveTo(0,a-40),e.lineTo(n,a-40),e.stroke();let l=(n-80)/Math.max(1.2*(R||x*x*Math.sin(2*p*Math.PI/180)/(j||9.81)||10),10),s=120/(1.5*Math.max(P||2,f,1)+1);e.beginPath(),e.strokeStyle="#2563eb",e.lineWidth=2;let r=o.current;for(let t=0;t<r.length;t++){let n=40+r[t].x*l,i=a-40-r[t].y*s;0===t?e.moveTo(n,i):e.lineTo(n,i)}if(e.stroke(),r.length){let t=r[r.length-1],n=40+t.x*l,i=a-40-t.y*s;e.fillStyle="#dc2626",e.beginPath(),e.arc(n,i,6,0,2*Math.PI),e.fill()}e.fillStyle="#0f172a",e.font="13px sans-serif",e.fillText("v0: ".concat(x," m/s"),12,18),e.fillText("angle: ".concat(p,"\xb0"),12,36),e.fillText("t: ".concat(d.current.toFixed(2)," s"),12,54),e.fillText("TOF: ".concat(M?M.toFixed(3)+" s":"—"),n-220,18),e.fillText("Range: ".concat(R?R.toFixed(3)+" m":"—"),n-220,36),e.fillText("Max H: ".concat(P?P.toFixed(3)+" m":"—"),n-220,54);let i=Math.min(360,Math.round(.36*n)),c=Math.min(160,Math.round(.22*a)),u=Math.max(8,n-i-12),m=Math.max(8,a-c-12);if(i>16&&c>16){e.save(),e.fillStyle="#fff",e.fillRect(u,m,i,c),e.strokeStyle="#e6eef8",e.strokeRect(u,m,i,c);let t=Math.max(1,r.length?Math.max(...r.map(e=>e.y)):0,P||1);e.beginPath(),e.strokeStyle="#2563eb",e.lineWidth=2;let n=Math.max(0,r.length-240);for(let a=n;a<r.length;a++){let l=u+(a-n)/239*i;l=Math.min(u+i-1,Math.max(u+1,l));let s=m+c-Math.max(0,Math.min(t,r[a].y))/t*c,o=Math.min(m+c-1,Math.max(m+1,s));a===n?e.moveTo(l,o):e.lineTo(l,o)}e.stroke(),e.fillStyle="#0f172a",e.font="11px sans-serif",e.fillText("Height (m) vs time",u+6,m+c-8),e.restore()}})(t,e),S(d.current),c.current=requestAnimationFrame(n)}),()=>{cancelAnimationFrame(c.current),window.removeEventListener("resize",n)}},[y,x,p,f,j]),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-4 space-y-4",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Projectile Motion — Virtual Lab"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Simulate launches, measure range & TOF"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-1 bg-white p-4 rounded shadow space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm",children:"Initial speed (m/s)"}),(0,a.jsx)("input",{type:"range",min:"1",max:"100",step:"0.1",value:x,onChange:e=>{h(Number(e.target.value)),ea(Number(e.target.value),p,f,j)}}),(0,a.jsx)("input",{type:"number",value:x,onChange:e=>{h(Number(e.target.value))},className:"mt-1 w-full border rounded px-2 py-1"}),(0,a.jsx)("label",{className:"block text-sm mt-2",children:"Angle (\xb0)"}),(0,a.jsx)("input",{type:"range",min:"0",max:"90",step:"0.1",value:p,onChange:e=>{g(Number(e.target.value)),ea(x,Number(e.target.value),f,j)}}),(0,a.jsx)("input",{type:"number",value:p,onChange:e=>{g(Number(e.target.value))},className:"mt-1 w-full border rounded px-2 py-1"}),(0,a.jsx)("label",{className:"block text-sm mt-2",children:"Initial height (m)"}),(0,a.jsx)("input",{type:"range",min:"0",max:"20",step:"0.1",value:f,onChange:e=>{b(Number(e.target.value))}}),(0,a.jsx)("input",{type:"number",value:f,onChange:e=>b(Number(e.target.value)),className:"mt-1 w-full border rounded px-2 py-1"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("button",{onClick:()=>{N(e=>!e)},className:"flex-1 py-2 rounded bg-blue-600 text-white",children:y?"Pause":"Start"}),(0,a.jsx)("button",{onClick:()=>void(N(!1),el(),setTimeout(()=>N(!0),50)),className:"flex-1 py-2 rounded bg-gray-200",children:"Reset"})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm",children:[(0,a.jsxs)("div",{children:["Time of flight: ",(0,a.jsx)("strong",{children:M?M.toFixed(3)+" s":"—"})]}),(0,a.jsxs)("div",{children:["Range: ",(0,a.jsx)("strong",{children:R?R.toFixed(3)+" m":"—"})]}),(0,a.jsxs)("div",{children:["Max height: ",(0,a.jsx)("strong",{children:P?P.toFixed(3)+" m":"—"})]})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 bg-white p-3 rounded shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Trajectory"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Realtime animation — stops on ground hit"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:function(){let e=new Blob([[["t_s","x_m","y_m"],...o.current.map(e=>[e.t.toFixed(4),e.x.toFixed(4),e.y.toFixed(4)])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="projectile_".concat(Date.now(),".csv"),n.click(),URL.revokeObjectURL(t)},className:"px-3 py-1 bg-green-600 text-white rounded",children:"Export CSV"}),(0,a.jsx)("button",{onClick:function(){let e=new Blob([JSON.stringify({params:{v0:x,angle:p,h0:f,g:j},traj:o.current.slice(-2e3),tof:M,range:R,maxH:P,sweepResults:K},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="projectile_".concat(Date.now(),".json"),n.click(),URL.revokeObjectURL(t)},className:"px-3 py-1 bg-yellow-400 rounded",children:"Export JSON"}),(0,a.jsx)("button",{onClick:function(){let e="<html><body><h1>Projectile Lab</h1><p>Date: ".concat(new Date().toLocaleString(),"</p><pre>v0=").concat(x," m/s, angle=").concat(p,"\xb0, h0=").concat(f," m, g=").concat(j,"</pre><p>TOF: ").concat(M||"—",", Range: ").concat(R||"—",'</p><button onclick="window.print()">Print</button></body></html>'),t=window.open("","_blank");if(!t)return alert("popup blocked");t.document.write(e),t.document.close()},className:"px-3 py-1 bg-indigo-600 text-white rounded",children:"Printable"})]})]}),(0,a.jsx)("div",{className:"w-full min-h-[260px] md:min-h-[360px]",children:(0,a.jsx)("canvas",{ref:i,className:"w-full rounded-md"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mt-3",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Stopwatch"}),(0,a.jsxs)("div",{className:"text-2xl font-mono my-2",children:[O,"s"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:function(){T?(_(!1),L.current.elapsed=Number(O)):_(!0)},className:"flex-1 py-1 rounded bg-blue-600 text-white",children:T?"Stop":"Start"}),(0,a.jsx)("button",{onClick:function(){T&&U(e=>[...e,Number(O)])},className:"py-1 px-3 rounded bg-gray-200",children:"Lap"})]}),(0,a.jsxs)("div",{className:"mt-2 text-xs",children:["Laps: ",I.length]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("button",{onClick:function(){let e=Number(O);e&&!(e<=0)&&q(t=>[...t,{time:e,note:"manual"}])},className:"w-full py-1 rounded bg-emerald-500 text-white",children:"Record Manual Time"})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Manual Entries"}),(0,a.jsx)("ul",{className:"mt-2 max-h-36 overflow-auto text-sm",children:0===D.length?(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"No entries"}):D.map((e,t)=>(0,a.jsxs)("li",{className:"py-1 border-b",children:[e.time.toFixed(3)," s — ",e.note]},t))})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Saved Runs"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("button",{onClick:()=>(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"proj_".concat(Date.now()),t=JSON.parse(localStorage.getItem(en)||"[]"),n={name:e,date:new Date().toISOString(),params:{v0:x,angle:p,h0:f,g:j},traj:o.current.slice(-2e3),tof:M,range:R,maxH:P,sweepResults:K};t.push(n),localStorage.setItem(en,JSON.stringify(t)),alert("Saved: "+e)})(),className:"w-full py-1 rounded bg-orange-500 text-white mb-2",children:"Save Run"}),(0,a.jsx)("button",{onClick:()=>{let e=JSON.parse(localStorage.getItem(en)||"[]");0===e.length?alert("No saved"):alert(e.map(e=>e.name+" "+e.date).join("\n"))},className:"w-full py-1 rounded bg-gray-200 mb-2",children:"List"}),(0,a.jsx)("button",{onClick:()=>void(localStorage.removeItem(en),alert("Cleared")),className:"w-full py-1 rounded bg-red-500 text-white",children:"Clear"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Sweep — Measure Range"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-6 gap-2 items-end",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs",children:"Mode"}),(0,a.jsxs)("select",{value:A,onChange:e=>J(e.target.value),className:"w-full border rounded px-2 py-1",children:[(0,a.jsx)("option",{value:"angle",children:"Angle"}),(0,a.jsx)("option",{value:"speed",children:"Speed"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs",children:"Start"}),(0,a.jsx)("input",{value:W,onChange:e=>B(Number(e.target.value)),className:"w-full border rounded px-2 py-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs",children:"End"}),(0,a.jsx)("input",{value:H,onChange:e=>z(Number(e.target.value)),className:"w-full border rounded px-2 py-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs",children:"Steps"}),(0,a.jsx)("input",{value:V,min:"2",onChange:e=>G(Number(e.target.value)),className:"w-full border rounded px-2 py-1"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>{Q([]),es()},className:"w-full py-2 rounded bg-indigo-600 text-white",children:X?"Running...":"Run Sweep"})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>Q([]),className:"w-full py-2 rounded bg-gray-200",children:"Clear"})})]}),(0,a.jsxs)("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm",children:"Sweep Results"}),(0,a.jsx)("div",{className:"mt-2 max-h-40 overflow-auto text-sm",children:0===K.length?(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"No results"}):(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"border-b border-gray-200 p-2",children:"Param"}),(0,a.jsx)("th",{className:"border-b border-gray-200 p-2",children:"Range (m)"})]})}),(0,a.jsx)("tbody",{children:K.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"p-2",children:e.angle?"angle=".concat(e.angle.toFixed(1),"\xb0"):"v=".concat(e.speed.toFixed(2)," m/s")}),(0,a.jsx)("td",{className:"p-2",children:e.range?e.range.toFixed(3):"-"})]},t))})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm",children:"Fit"}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Fit relationships (e.g. Range vs v\xb2)"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Lab Instructions"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside text-sm mt-2",children:[(0,a.jsx)("li",{children:"Set initial speed, angle and height then Start the simulation."}),(0,a.jsx)("li",{children:"Use the stopwatch to manually time flight or use built-in estimates."}),(0,a.jsx)("li",{children:"Run sweep to observe how range changes with angle or speed."}),(0,a.jsx)("li",{children:"Export data or printable report for submission."})]})]})]})}},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let a=n(8993);function l(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return n}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return s}});let a=n(7437),l=n(544);function s(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,l.getExpectedRequestStore)("next/dynamic css"),s=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));s.push(...t)}}return 0===s.length?null:(0,a.jsx)(a.Fragment,{children:s.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3960)}),_N_E=e.O()}]);