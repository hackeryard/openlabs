(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{107:function(e,t,n){Promise.resolve().then(n.bind(n,6054)),Promise.resolve().then(n.bind(n,1523)),Promise.resolve().then(n.bind(n,49))},6054:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7437),l=n(2265);function a(e){let{initialMass:t=.5,initialAngleDeg:n=30,initialHeight:a=1,initialMu:s=.05}=e,i=(0,l.useRef)(null),o=(0,l.useRef)(null),[c,u]=(0,l.useState)(Number(t)),[d,m]=(0,l.useState)(Number(n)),[f,h]=(0,l.useState)(Number(a)),[x,b]=(0,l.useState)(Number(s)),[p]=(0,l.useState)(9.81),[g,v]=(0,l.useState)(!0),y=(0,l.useRef)(0),j=(0,l.useRef)(0),N=(0,l.useRef)(0),w=(0,l.useRef)([]),[k,M]=(0,l.useState)(0),[S,P]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=i.current;if(!e)return;let t=e.getContext("2d");function n(){let n=e.parentElement,r=n?Math.min(1e3,Math.max(520,n.clientWidth-8)):800,l=window.devicePixelRatio||1;e.width=Math.round(r*l),e.height=Math.round(320*l),e.style.width="".concat(r,"px"),e.style.height="".concat(320,"px"),t.setTransform(l,0,0,l,0,0)}n(),window.addEventListener("resize",n),y.current=0,j.current=0,N.current=0,w.current=[],P(null);let r=1/240,l=0,a=performance.now();return o.current=requestAnimationFrame(function n(s){let i=Math.min(.05,(s-a)/1e3);if(a=s,g)for(l+=i;l>=r;){let e=d*Math.PI/180,t=p*Math.sin(e)-x*p*Math.cos(e);j.current+=t*r,y.current+=j.current*r,N.current+=r;let n=Math.max(0,f-y.current*Math.sin(e)),a=c*p*Math.max(n,0),s=.5*c*j.current*j.current,i=Math.max(0,c*p*f-(a+s));if(w.current.push({t:N.current,PE:a,KE:s,lost:i}),w.current.length>4e3&&w.current.shift(),n<=0){P(j.current),v(!1);break}l-=r}(function(e,t){let n=t.clientWidth,r=t.clientHeight;e.clearRect(0,0,n,r),e.fillStyle="#f8fafc",e.fillRect(0,0,n,r);let l=Math.min(n-160,500),a=d*Math.PI/180,s=40+l*Math.cos(a),i=80+l*Math.sin(a);e.strokeStyle="#374151",e.lineWidth=3,e.beginPath(),e.moveTo(40,80),e.lineTo(s,i),e.stroke();let o=Math.max(0,y.current),u=40+o*Math.cos(a),m=80+o*Math.sin(a);e.fillStyle="#ef4444",e.fillRect(u-18,m-12,36,24),e.fillStyle="#0f172a",e.font="13px sans-serif",e.fillText("m=".concat(c," kg  θ=").concat(d,"\xb0  h0=").concat(f," m  \xb5=").concat(x),12,18),e.fillText("t=".concat(N.current.toFixed(2)," s  v=").concat(j.current.toFixed(3)," m/s"),12,36),e.fillText("Speed at bottom: ".concat(S?S.toFixed(3)+" m/s":"—"),12,54);let h=Math.min(340,Math.round(.38*n)),b=n-h-12,p=r-160-12;e.fillStyle="#fff",e.fillRect(b,p,h,160),e.strokeStyle="#e6eef8",e.strokeRect(b,p,h,160);let g=w.current,v=Math.max(1,g.length?g[g.length-1].t:1),k=9.81*c*f;e.beginPath(),e.strokeStyle="#10b981",e.lineWidth=2;for(let t=0;t<g.length;t++){let n=g[t],r=b+n.t/v*h,l=p+160-n.PE/k*160;0===t?e.moveTo(r,l):e.lineTo(r,l)}e.stroke(),e.beginPath(),e.strokeStyle="#2563eb",e.lineWidth=2;for(let t=0;t<g.length;t++){let n=g[t],r=b+n.t/v*h,l=p+160-n.KE/k*160;0===t?e.moveTo(r,l):e.lineTo(r,l)}e.stroke(),e.beginPath(),e.strokeStyle="#f59e0b",e.lineWidth=2;for(let t=0;t<g.length;t++){let n=g[t],r=b+n.t/v*h,l=p+160-n.lost/k*160;0===t?e.moveTo(r,l):e.lineTo(r,l)}e.stroke(),e.fillStyle="#0f172a",e.font="11px sans-serif",e.fillText("PE (green), KE (blue), Lost (orange) — normalized",b+6,p+160-8)})(t,e),M(N.current),o.current=requestAnimationFrame(n)}),()=>{cancelAnimationFrame(o.current),window.removeEventListener("resize",n)}},[g,c,d,f,x]),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-4 bg-white rounded shadow space-y-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Energy Conservation — Block on Incline Lab"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("label",{className:"block text-sm",children:"Mass (kg)"}),(0,r.jsx)("input",{type:"range",min:.1,max:5,step:.01,value:c,onChange:e=>u(Number(e.target.value))}),(0,r.jsx)("input",{type:"number",value:c,onChange:e=>u(Number(e.target.value)),className:"w-full mt-1 border rounded px-2 py-1"}),(0,r.jsx)("label",{className:"block text-sm mt-2",children:"Incline angle (\xb0)"}),(0,r.jsx)("input",{type:"range",min:1,max:60,step:.1,value:d,onChange:e=>m(Number(e.target.value))}),(0,r.jsx)("input",{type:"number",value:d,onChange:e=>m(Number(e.target.value)),className:"w-full mt-1 border rounded px-2 py-1"}),(0,r.jsx)("label",{className:"block text-sm mt-2",children:"Start height (m)"}),(0,r.jsx)("input",{type:"range",min:.1,max:3,step:.01,value:f,onChange:e=>h(Number(e.target.value))}),(0,r.jsx)("input",{type:"number",value:f,onChange:e=>h(Number(e.target.value)),className:"w-full mt-1 border rounded px-2 py-1"}),(0,r.jsx)("label",{className:"block text-sm mt-2",children:"Friction \xb5"}),(0,r.jsx)("input",{type:"range",min:0,max:.5,step:.001,value:x,onChange:e=>b(Number(e.target.value))}),(0,r.jsx)("input",{type:"number",value:x,onChange:e=>b(Number(e.target.value)),className:"w-full mt-1 border rounded px-2 py-1"}),(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,r.jsx)("button",{onClick:()=>v(e=>!e),className:"flex-1 py-2 rounded bg-blue-600 text-white",children:g?"Pause":"Start"}),(0,r.jsx)("button",{onClick:function(){y.current=0,j.current=0,N.current=0,w.current=[],P(null),v(!1)},className:"flex-1 py-2 rounded bg-gray-200",children:"Reset"})]}),(0,r.jsxs)("div",{className:"text-sm mt-2",children:[(0,r.jsxs)("div",{children:["Sim time: ",k.toFixed(2)," s"]}),(0,r.jsxs)("div",{children:["Speed at bottom: ",S?S.toFixed(3)+" m/s":"—"]})]}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("button",{onClick:function(){let e=new Blob([[["t_s","PE_J","KE_J","lost_J"],...w.current.map(e=>[e.t.toFixed(4),e.PE.toFixed(6),e.KE.toFixed(6),e.lost.toFixed(6)])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="energy_".concat(Date.now(),".csv"),n.click(),URL.revokeObjectURL(t)},className:"py-2 w-full rounded bg-green-600 text-white",children:"Export CSV"})})]}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsx)("canvas",{ref:i,className:"w-full border rounded",style:{height:320}})})]})]})}},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let r=n(8993);function l(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return n}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let r=n(7437),l=n(544);function a(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,l.getExpectedRequestStore)("next/dynamic css"),a=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,r.jsx)(r.Fragment,{children:a.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=107)}),_N_E=e.O()}]);