(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[316],{7282:function(e,t,n){Promise.resolve().then(n.bind(n,2371)),Promise.resolve().then(n.bind(n,1523)),Promise.resolve().then(n.bind(n,49))},2371:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var l=n(7437),a=n(2265);function i(){let e=(0,a.useRef)(null);(0,a.useRef)(null);let[t,n]=(0,a.useState)("double"),[i,s]=(0,a.useState)(632.8),[r,o]=(0,a.useState)(50),[c,d]=(0,a.useState)(150),[u,m]=(0,a.useState)(5),[h,x]=(0,a.useState)(1.2),[p,f]=(0,a.useState)(1),[g,v]=(0,a.useState)(1),[b,y]=(0,a.useState)(.5),[j,w]=(0,a.useState)(1200),[N,S]=(0,a.useState)(null),k=(0,a.useRef)([]),[M]=(0,a.useState)("openlabs_waveoptics_runs_v1");function C(){let e=1e-9*i,n=1e-6*r,l=1e-6*c,a=Math.max(1,Math.floor(u)),s=Math.max(200,Math.floor(j)),o=Array(s),d=Array(s);for(let i=0;i<s;i++){let r=-b+i/(s-1)*(2*b),c=r/Math.sqrt(r*r+h*h),u=Math.PI*n*c/e,m=Math.PI*l*c/e,x=1e-8>Math.abs(u)?1:Math.sin(u)/u;x*=x;let f=1;if("single"===t)f=1;else if("double"===t)f=Math.cos(m),f*=f;else if("grating"===t){if(1e-12>Math.abs(Math.sin(m)))f=a*a;else{let e=Math.sin(a*m),t=Math.sin(m);f=e/t*(e/t)}f/=a*a}let g=p*x*f;o[i]=r,d[i]=g}let m=Math.max(...d,1e-12),x=d.map(e=>e/m),f=o.map((e,t)=>({x:e,I:x[t]}));return k.current=f,f}function I(){let n=C(),l=e.current;if(!l)return;let a=l.getContext("2d"),s=l.clientWidth,o=l.clientHeight;a.clearRect(0,0,s,o),a.fillStyle="#f8fafc",a.fillRect(0,0,s,o),a.fillStyle="#0f172a",a.font="13px sans-serif",a.fillText("Mode: ".concat(t,"    λ=").concat(i," nm    a=").concat(r," μm    d=").concat(c," μm    L=").concat(h.toFixed(2)," m"),8,18);let d=s-88,u=o-88;a.strokeStyle="#e6eef8",a.lineWidth=1,a.strokeRect(44,44,d,u),a.beginPath(),a.lineWidth=1.5,a.strokeStyle="#2563eb";for(let e=0;e<n.length;e++){let t=44+e/(n.length-1)*d,l=44+u-Math.min(1,n[e].I*g)*u;0===e?a.moveTo(t,l):a.lineTo(t,l)}a.stroke(),a.lineTo(44+d,44+u),a.lineTo(44,44+u),a.closePath(),a.fillStyle="rgba(37,99,235,0.12)",a.fill(),a.strokeStyle="#94a3b8",a.beginPath();let m=44+.5*d;a.moveTo(m,44),a.lineTo(m,44+u),a.stroke(),a.fillStyle="#0f172a",a.fillText("x = 0",m+6,58);let x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[];for(let t=1;t<e.length-1;t++)e[t].I>e[t-1].I&&e[t].I>e[t+1].I&&e[t].I>.01&&n.push({index:t,value:e[t].I,x:e[t].x});return n.sort((e,t)=>t.value-e.value),n.slice(0,t)}(n,5);a.fillStyle="#0f172a",a.font="11px sans-serif",x.slice(0,6).forEach(e=>{let t=44+e.index/(n.length-1)*d,l=44+u-e.value*u-10;a.beginPath(),a.fillStyle="#dc2626",a.arc(t,44+u-e.value*u,3,0,2*Math.PI),a.fill(),a.fillStyle="#0f172a",a.fillText("".concat(e.x.toFixed(3)," m"),t+6,l)});let p=44+d+8;a.fillStyle="#0f172a",a.font="12px sans-serif",a.fillText("Intensity scale: \xd7".concat(g.toFixed(2)),p,56);let f=1e-9*i,v=1e-6*c,b=null;v>0&&(b=f*h/v),b&&a.fillText("Fringe spacing (Δx) ≈ ".concat(b.toExponential(3)," m"),p,74),a.fillText("Click plot to read intensity at x",p,92),function(e,t,n,l,a,i){let s=Math.min(260,.4*a),r=Math.min(120,.45*i),o=44+i-r-8;e.fillStyle="#ffffff",e.fillRect(52,o,s,r),e.strokeStyle="#c7d2fe",e.strokeRect(52,o,s,r);let c=t.length,d=Math.floor(c/2),u=Math.floor(.05*c),m=Math.max(0,d-u),h=Math.min(c-1,d+u);e.beginPath(),e.strokeStyle="#10b981",e.lineWidth=1.6;for(let n=m;n<=h;n++){let l=52+(n-m)/Math.max(1,h-m)*s,a=o+r-t[n].I*r;n===m?e.moveTo(l,a):e.lineTo(l,a)}e.stroke(),e.fillStyle="#0f172a",e.font="10px sans-serif",e.fillText("Zoom (center)",58,o+12)}(a,n,0,0,d,u)}async function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9;S(null);let l=[];for(let a=0;a<n;a++){let i=e+a/(n-1)*(t-e);s(i),await new Promise(e=>setTimeout(e,120));let r=C(),o=Math.floor(r.length/2),c=o,d=r[o].I;for(let e=o;e<r.length&&(r[e].I>d&&(d=r[e].I,c=e),!(r[e].I<.2*d)||!(e>o+40));e++);let u=r[c].x;l.push({wavelength:i,peakX:u,peakI:d})}s(i),alert("Sweep complete. Results:\n"+l.map(e=>"".concat(e.wavelength," nm -> peakX=").concat(e.peakX.toExponential(3)," m")).join("\n"))}return(0,a.useEffect)(()=>{let t=e.current;if(!t)return;let n=t.getContext("2d");function l(){let e=t.parentElement,l=e?Math.min(1100,Math.max(560,e.clientWidth-8)):800,a=window.devicePixelRatio||1;t.width=Math.round(l*a),t.height=Math.round(260*a),t.style.width="".concat(l,"px"),t.style.height="".concat(260,"px"),n.setTransform(a,0,0,a,0,0),I()}return window.addEventListener("resize",l),l(),()=>window.removeEventListener("resize",l)},[t,i,r,c,u,h,p,g,b,j]),(0,a.useEffect)(()=>{let t=e.current;if(t)return t.addEventListener("click",n),()=>t.removeEventListener("click",n);function n(e){let n=t.getBoundingClientRect(),l=t.clientWidth-88,a=(e.clientX-n.left-44)/l;if(a<0||a>1)return;let i=k.current.length?k.current:C(),s=Math.round(a*(i.length-1)),r=i[s];S({x:r.x,I:r.I})}},[t,i,r,c,h,g,b,j]),(0,a.useEffect)(()=>{I()},[t,i,r,c,u,h,g,b,j]),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto p-4 space-y-4",children:[(0,l.jsxs)("header",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold",children:"Wave Optics — Diffraction & Interference Lab"}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Fraunhofer approximation: small-angle diffraction patterns"})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-1 bg-white p-4 rounded shadow space-y-3",children:[(0,l.jsx)("label",{className:"block text-sm",children:"Mode"}),(0,l.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"w-full border rounded px-2 py-1",children:[(0,l.jsx)("option",{value:"single",children:"Single slit"}),(0,l.jsx)("option",{value:"double",children:"Double slit"}),(0,l.jsx)("option",{value:"grating",children:"Diffraction grating (N slits)"})]}),(0,l.jsx)("label",{className:"block text-sm mt-2",children:"Wavelength (nm)"}),(0,l.jsx)("input",{type:"range",min:350,max:900,step:1,value:i,onChange:e=>s(Number(e.target.value))}),(0,l.jsx)("input",{type:"number",value:i,onChange:e=>s(Number(e.target.value)),className:"mt-1 w-full border rounded px-2 py-1"}),(0,l.jsx)("label",{className:"block text-sm mt-2",children:"Slit width a (μm)"}),(0,l.jsx)("input",{type:"range",min:1,max:500,step:1,value:r,onChange:e=>o(Number(e.target.value))}),(0,l.jsx)("input",{type:"number",value:r,onChange:e=>o(Number(e.target.value)),className:"mt-1 w-full border rounded px-2 py-1"}),(0,l.jsx)("label",{className:"block text-sm mt-2",children:"Slit separation d (μm)"}),(0,l.jsx)("input",{type:"range",min:1,max:2e3,step:1,value:c,onChange:e=>d(Number(e.target.value))}),(0,l.jsx)("input",{type:"number",value:c,onChange:e=>d(Number(e.target.value)),className:"mt-1 w-full border rounded px-2 py-1"}),"grating"===t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("label",{className:"block text-sm mt-2",children:"Number of slits N"}),(0,l.jsx)("input",{type:"range",min:2,max:200,step:1,value:u,onChange:e=>m(Number(e.target.value))}),(0,l.jsx)("input",{type:"number",value:u,onChange:e=>m(Number(e.target.value)),className:"mt-1 w-full border rounded px-2 py-1"})]}),(0,l.jsx)("label",{className:"block text-sm mt-2",children:"Screen distance L (m)"}),(0,l.jsx)("input",{type:"range",min:.2,max:5,step:.01,value:h,onChange:e=>x(Number(e.target.value))}),(0,l.jsx)("input",{type:"number",value:h,onChange:e=>x(Number(e.target.value)),className:"mt-1 w-full border rounded px-2 py-1"}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("label",{className:"block text-sm",children:"Full half-width on screen (m)"}),(0,l.jsx)("input",{type:"range",min:.05,max:2,step:.01,value:b,onChange:e=>y(Number(e.target.value))}),(0,l.jsx)("input",{type:"number",value:b,onChange:e=>y(Number(e.target.value)),className:"mt-1 w-full border rounded px-2 py-1"})]}),(0,l.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>I(),className:"flex-1 py-2 rounded bg-blue-600 text-white",children:"Redraw"}),(0,l.jsx)("button",{onClick:()=>{w(Math.max(200,j+200)),I()},className:"py-2 px-3 rounded bg-gray-200",children:"+Res"})]})]}),(0,l.jsxs)("div",{className:"md:col-span-3 bg-white p-3 rounded shadow",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("div",{className:"text-sm",children:"Intensity vs screen position (click to read)"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:function(){let e=new Blob([[["x_m","I_norm"],...(k.current.length?k.current:C()).map(e=>[e.x.toString(),e.I.toString()])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="waveoptics_".concat(Date.now(),".csv"),n.click(),URL.revokeObjectURL(t)},className:"px-3 py-1 rounded bg-green-600 text-white",children:"Export CSV"}),(0,l.jsx)("button",{onClick:()=>(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"waveoptics_".concat(Date.now()),n=JSON.parse(localStorage.getItem(M)||"[]"),l={name:e,date:new Date().toISOString(),params:{mode:t,wavelengthNm:i,aMicron:r,dMicron:c,Nslits:u,L:h,intensityScale:g,rangeMeters:b,resolution:j},pattern:k.current.slice(0,2e3)};n.push(l),localStorage.setItem(M,JSON.stringify(n)),alert("Saved run: "+e)})(),className:"px-3 py-1 rounded bg-orange-500 text-white",children:"Save Run"}),(0,l.jsx)("button",{onClick:()=>(function(){let e=JSON.parse(localStorage.getItem(M)||"[]");e.length?alert(e.map(e=>"".concat(e.name," — ").concat(e.date)).join("\n")):alert("No saved runs")})(),className:"px-3 py-1 rounded bg-gray-200",children:"List Saved"}),(0,l.jsx)("button",{onClick:()=>void(localStorage.removeItem(M),alert("Cleared saved runs")),className:"px-3 py-1 rounded bg-red-500 text-white",children:"Clear Saved"}),(0,l.jsx)("button",{onClick:()=>(function(){let e=k.current.length?k.current:C();e.map(e=>e.I);let n="\n      <html><head><title>Wave Optics Report</title>\n      <style>body{font-family:Arial;padding:18px}pre{white-space:pre-wrap}</style></head><body>\n      <h1>Wave Optics — Report</h1>\n      <p>Date: ".concat(new Date().toLocaleString(),"</p>\n      <h2>Parameters</h2>\n      <ul>\n        <li>Mode: ").concat(t,"</li>\n        <li>Wavelength: ").concat(i," nm</li>\n        <li>Slit width a: ").concat(r," μm</li>\n        <li>Slit separation d: ").concat(c," μm</li>\n        <li>Number of slits (grating): ").concat(u,"</li>\n        <li>Screen distance: ").concat(h," m</li>\n      </ul>\n      <h2>Sample points (first 50)</h2>\n      <pre>").concat(e.slice(0,50).map(e=>"x=".concat(e.x.toFixed(6)," m, I=").concat((e.I*g).toFixed(6))).join("\n"),'</pre>\n      <button onclick="window.print()">Print / Save as PDF</button>\n      </body></html>'),l=window.open("","_blank","noopener,noreferrer");if(!l)return alert("Popup blocked");l.document.write(n),l.document.close()})(),className:"px-3 py-1 rounded bg-indigo-600 text-white",children:"Printable"}),(0,l.jsx)("button",{onClick:()=>R(400,800,9),className:"px-3 py-1 rounded bg-violet-600 text-white",children:"Sweep λ 400–800 nm"})]})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full border rounded",style:{height:260}}),(0,l.jsxs)("div",{className:"mt-2 flex items-start gap-4",children:[(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("div",{children:"Intensity scale"}),(0,l.jsx)("input",{type:"range",min:.2,max:8,step:.1,value:g,onChange:e=>v(Number(e.target.value))}),(0,l.jsxs)("div",{className:"mt-1 text-xs",children:["Scale: ",g.toFixed(2),"\xd7"]})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("div",{children:"Resolution"}),(0,l.jsx)("input",{type:"range",min:200,max:2400,step:100,value:j,onChange:e=>w(Number(e.target.value))}),(0,l.jsxs)("div",{className:"mt-1 text-xs",children:["Samples: ",j]})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("div",{children:"Last click"}),(0,l.jsx)("div",{className:"mt-1 font-mono text-sm",children:N?"x=".concat(N.x.toExponential(3)," m, I=").concat(N.I.toFixed(4)):"—"})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,l.jsx)("h3",{className:"font-semibold",children:"Lab Instructions — Wave Optics"}),(0,l.jsxs)("ol",{className:"list-decimal list-inside text-sm mt-2",children:[(0,l.jsx)("li",{children:"Select mode: single slit for envelope-only, double slit for interference & envelope, grating for many-slit pattern."}),(0,l.jsx)("li",{children:"Set wavelength λ (nm), slit width a (μm) and slit separation d (μm), and screen distance L (m)."}),(0,l.jsx)("li",{children:"Click the intensity plot to read the normalized intensity at that screen position."}),(0,l.jsx)("li",{children:"Use sweep (λ) to observe how fringe spacing varies with wavelength: Δx ≈ λ L / d (double-slit)."}),(0,l.jsx)("li",{children:"Export CSV for data analysis or save a run for later review."})]})]})]})}},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let l=n(8993);function a(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return n}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return i}});let l=n(7437),a=n(544);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,a.getExpectedRequestStore)("next/dynamic css"),i=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));i.push(...t)}}return 0===i.length?null:(0,l.jsx)(l.Fragment,{children:i.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7282)}),_N_E=e.O()}]);