(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{6785:function(e,t,n){Promise.resolve().then(n.bind(n,5174)),Promise.resolve().then(n.bind(n,1523)),Promise.resolve().then(n.bind(n,49))},5174:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7437),l=n(2265);function a(e){let{initialR:t=1e4,initialC:n=1e-6,initialV:a=5}=e,c=(0,l.useRef)(null),i=(0,l.useRef)(null),s=(0,l.useRef)([]),u=(0,l.useRef)(0),o=(0,l.useRef)(0),[d,f]=(0,l.useState)(Number(t)),[h,m]=(0,l.useState)(Number(n)),[x,g]=(0,l.useState)(Number(a)),[p,b]=(0,l.useState)("idle"),[v,y]=(0,l.useState)(!0),[j,N]=(0,l.useState)(null),[w,C]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let e=c.current;if(!e)return;let t=e.getContext("2d");function n(){let n=e.parentElement,r=n?Math.min(900,Math.max(480,n.clientWidth-8)):800,l=window.devicePixelRatio||1;e.width=Math.round(r*l),e.height=Math.round(300*l),e.style.width="".concat(r,"px"),e.style.height="".concat(300,"px"),t.setTransform(l,0,0,l,0,0)}n(),window.addEventListener("resize",n),u.current=0,o.current=0,s.current=[],N(null);let r=1/240,l=0,a=performance.now();return i.current=requestAnimationFrame(function n(c){let f=Math.min(.05,(c-a)/1e3);if(a=c,v&&"idle"!==p)for(l+=f;l>=r;){if("charge"===p){let e=(x-o.current)/(d*h);o.current+=e*r;let t=(x-o.current)/d;u.current+=r,s.current.push({t:u.current,v:o.current,i:t}),s.current.length>4e3&&s.current.shift()}else if("discharge"===p){let e=-o.current/(d*h);o.current+=e*r;let t=o.current/d;u.current+=r,s.current.push({t:u.current,v:o.current,i:t}),s.current.length>4e3&&s.current.shift()}l-=r}else(0===s.current.length||performance.now()-a>200)&&s.current.push({t:u.current,v:o.current,i:o.current/Math.max(d,1e-9)});(function(e,t){let n=t.clientWidth,r=t.clientHeight;e.clearRect(0,0,n,r),e.fillStyle="#f8fafc",e.fillRect(0,0,n,r);let l=n-72,a=r-72;e.strokeStyle="#e6eef8",e.strokeRect(36,36,l,a);let c=s.current,i=Math.max(1,c.length?c[c.length-1].t:1),u=Math.max(x,1),o=Math.max(...c.map(e=>Math.abs(e.i)||0),x/Math.max(d,1e-9),1);e.beginPath(),e.strokeStyle="#2563eb",e.lineWidth=2;for(let t=0;t<c.length;t++){let n=c[t],r=36+n.t/(i||1)*l,s=36+a-n.v/u*a;0===t?e.moveTo(r,s):e.lineTo(r,s)}e.stroke(),e.fillStyle="#0f172a",e.font="12px sans-serif",e.fillText("Vc (V) — blue",42,50),e.beginPath(),e.strokeStyle="#f59e0b",e.lineWidth=1.5;for(let t=0;t<c.length;t++){let n=c[t],r=36+n.t/(i||1)*l,s=36+a-Math.abs(n.i)/o*a;0===t?e.moveTo(r,s):e.lineTo(r,s)}if(e.stroke(),e.fillStyle="#92400e",e.fillText("I (A) — orange (abs)",42,66),e.fillStyle="#0f172a",e.fillText("Mode: ".concat(p),n-160,20),e.fillText("R=".concat(d.toLocaleString()," Ω  C=").concat(h," F  V=").concat(x," V"),n-260,38),e.fillText("τ measured ≈ ".concat(j?j.toFixed(4)+" s":"—"),n-260,56),c.length){let t=c[c.length-1],n=36+t.t/(i||1)*l,r=36+a-t.v/u*a;e.fillStyle="#dc2626",e.beginPath(),e.arc(n,r,4,0,2*Math.PI),e.fill(),e.fillStyle="#0f172a",e.fillText("Vc=".concat(t.v.toFixed(3)," V"),n+8,r-8)}})(t,e),C(u.current),i.current=requestAnimationFrame(n)}),()=>{cancelAnimationFrame(i.current),window.removeEventListener("resize",n)}},[v,p,d,h,x]),(0,l.useEffect)(()=>{let e=setInterval(()=>{N(function(e){if(!e||0===e.length)return null;let t=.632*e[e.length-1].v;for(let n=1;n<e.length;n++)if(e[n].v>=t){let r=e[n-1],l=e[n],a=(t-r.v)/(l.v-r.v||1e-9);return r.t+a*(l.t-r.t)}return null}(s.current.filter(e=>e.v>=0)))},300);return()=>clearInterval(e)},[]),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4 p-4 bg-white rounded shadow",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"RC Circuit — Charge & Discharge Lab"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("label",{className:"block text-sm",children:"Resistance R (Ω)"}),(0,r.jsx)("input",{type:"range",min:10,max:1e6,step:10,value:d,onChange:e=>f(Number(e.target.value))}),(0,r.jsx)("input",{type:"number",value:d,onChange:e=>f(Number(e.target.value)),className:"w-full mt-1 border rounded px-2 py-1"}),(0,r.jsx)("label",{className:"block text-sm",children:"Capacitance C (F)"}),(0,r.jsx)("input",{type:"range",min:1e-9,max:.001,step:1e-9,value:h,onChange:e=>m(Number(e.target.value))}),(0,r.jsx)("input",{type:"number",value:h,onChange:e=>m(Number(e.target.value)),className:"w-full mt-1 border rounded px-2 py-1"}),(0,r.jsx)("label",{className:"block text-sm",children:"Source V (V)"}),(0,r.jsx)("input",{type:"range",min:0,max:20,step:.1,value:x,onChange:e=>g(Number(e.target.value))}),(0,r.jsx)("input",{type:"number",value:x,onChange:e=>g(Number(e.target.value)),className:"w-full mt-1 border rounded px-2 py-1"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:function(){o.current=0,u.current=0,s.current=[],b("charge"),setTimeout(()=>y(!0),10)},className:"flex-1 py-2 rounded bg-blue-600 text-white",children:"Charge"}),(0,r.jsx)("button",{onClick:function(){o.current=x,u.current=0,s.current=[],b("discharge"),setTimeout(()=>y(!0),10)},className:"flex-1 py-2 rounded bg-orange-500 text-white",children:"Discharge"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:function(){b("idle")},className:"flex-1 py-2 rounded bg-gray-200",children:"Stop"}),(0,r.jsx)("button",{onClick:function(){o.current=0,u.current=0,s.current=[],N(null),b("idle"),y(!1)},className:"flex-1 py-2 rounded bg-gray-200",children:"Reset"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,r.jsxs)("div",{children:["Measured τ ≈ ",(0,r.jsx)("strong",{children:j?j.toFixed(4)+" s":"—"})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Theoretical τ = R \xd7 C = ",(d*h).toExponential(3)," s"]})]}),(0,r.jsx)("div",{className:"mt-2 flex gap-2",children:(0,r.jsx)("button",{onClick:function(){let e=new Blob([[["t_s","Vc_V","I_A"],...s.current.map(e=>[e.t.toFixed(6),e.v.toFixed(6),e.i.toFixed(6)])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="RC_".concat(Date.now(),".csv"),n.click(),URL.revokeObjectURL(t)},className:"flex-1 py-2 rounded bg-green-600 text-white",children:"Export CSV"})})]}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsx)("canvas",{ref:c,className:"w-full border rounded",style:{height:300}})})]})]})}},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let r=n(8993);function l(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return n}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let r=n(7437),l=n(544);function a(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,l.getExpectedRequestStore)("next/dynamic css"),a=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,r.jsx)(r.Fragment,{children:a.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6785)}),_N_E=e.O()}]);