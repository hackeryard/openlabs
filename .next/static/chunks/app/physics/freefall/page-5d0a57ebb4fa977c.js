(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{5393:function(e,t,n){Promise.resolve().then(n.bind(n,9673)),Promise.resolve().then(n.bind(n,1523)),Promise.resolve().then(n.bind(n,49))},9673:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),i=n(2265);let a="openlabs_freefall_runs_v1";function l(e){let{initialVelocity:t=0,initialGravity:n=9.8,initialHeight:l=5}=e,o=(0,i.useRef)(null),s=(0,i.useRef)(null),c=(0,i.useRef)(l),d=(0,i.useRef)(t),u=(0,i.useRef)(0),[m,f]=(0,i.useState)(t),[p,h]=(0,i.useState)(n),[x,b]=(0,i.useState)(l),[g,y]=(0,i.useState)(!1),[v,w]=(0,i.useState)(0),[j,S]=(0,i.useState)("y-t"),F=(0,i.useRef)([]);function k(){y(!1),u.current=0,c.current=x,d.current=m,F.current=[],w(0)}return(0,i.useEffect)(()=>{let e=o.current;if(!e)return;let t=e.getContext("2d");function n(){let t=e.parentElement.clientWidth;e.width=t,e.height=420}n(),window.addEventListener("resize",n);let r=performance.now();return s.current=requestAnimationFrame(function n(i){let a=(i-r)/1e3;r=i,g&&c.current>0&&(u.current+=a,d.current+=p*a,c.current-=d.current*a,c.current<=0&&(c.current=0,y(!1)),w(u.current),f(d.current),F.current.push({t:u.current,y:c.current,v:d.current}),F.current.length>600&&F.current.shift()),function(e,t){let n=t.width,r=t.height;e.clearRect(0,0,n,r),e.fillStyle="#f8fafc",e.fillRect(0,0,n,r),e.strokeStyle="#94a3b8",e.lineWidth=2,e.beginPath(),e.moveTo(n/2,40),e.lineTo(n/2,r-60),e.stroke();let i=(r-120)/Math.max(x,.1),a=40+(x-c.current)*i;e.strokeStyle="#64748b",e.beginPath(),e.moveTo(n/2-50,r-60),e.lineTo(n/2+50,r-60),e.stroke(),e.fillStyle="rgba(0,0,0,0.15)",e.beginPath(),e.ellipse(n/2,r-52,18,6,0,0,2*Math.PI),e.fill(),e.fillStyle="#2563eb",e.beginPath(),e.arc(n/2,a,14,0,2*Math.PI),e.fill(),function(e,t,n){let r,i,a;let l=t-300;e.fillStyle="#ffffff",e.strokeStyle="#cbd5f5",e.fillRect(l,40,260,150),e.strokeRect(l,40,260,150),e.strokeStyle="#94a3b8",e.beginPath(),e.moveTo(l+40,50),e.lineTo(l+40,160),e.lineTo(l+260-10,160),e.stroke();let o=F.current;if(o.length<2)return;let s=o[o.length-1].t||1;"y-t"===j?(r=o.map(e=>e.y),i="Height–Time (y–t)",a="#16a34a"):"v-t"===j?(r=o.map(e=>e.v),i="Velocity–Time (v–t)",a="#2563eb"):(r=o.map(()=>p),i="Acceleration–Time (a–t)",a="#dc2626");let c=Math.max(...r.map(e=>Math.abs(e)),1);e.strokeStyle=a,e.lineWidth=2,e.beginPath(),o.forEach((t,n)=>{let i=l+40+t.t/s*210,a=160-(r[n]+c)/(2*c)*100;0===n?e.moveTo(i,a):e.lineTo(i,a)}),e.stroke(),e.fillStyle="#0f172a",e.font="12px sans-serif",e.fillText(i,l+10,54)}(e,n,0)}(t,e),s.current=requestAnimationFrame(n)}),()=>{cancelAnimationFrame(s.current),window.removeEventListener("resize",n)}},[g,p,j]),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-4 space-y-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Free Fall — Virtual Physics Lab"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-center",children:[["Time","".concat(v.toFixed(2)," s")],["Height","".concat(c.current.toFixed(2)," m")],["Velocity","".concat(m.toFixed(2)," m/s")],["Gravity","".concat(p.toFixed(2)," m/s\xb2")]].map(e=>{let[t,n]=e;return(0,r.jsxs)("div",{className:"bg-slate-100 p-3 rounded",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500",children:t}),(0,r.jsx)("div",{className:"font-mono text-lg",children:n})]},t)})}),(0,r.jsx)("div",{className:"flex gap-2",children:["y-t","v-t","a-t"].map(e=>(0,r.jsx)("button",{onClick:()=>S(e),className:"px-3 py-1 rounded border ".concat(j===e?"bg-blue-600 text-white":""),children:e.toUpperCase()},e))}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow space-y-3",children:[(0,r.jsx)("label",{children:"Initial Velocity (m/s)"}),(0,r.jsx)("input",{type:"range",min:"-10",max:"10",step:"0.1",value:m,onChange:e=>{let t=+e.target.value;f(t),d.current=t,k()}}),(0,r.jsx)("label",{children:"Gravity (m/s\xb2)"}),(0,r.jsx)("input",{type:"range",min:"1",max:"20",step:"0.1",value:p,onChange:e=>h(+e.target.value)}),(0,r.jsx)("label",{children:"Initial Height (m)"}),(0,r.jsx)("input",{type:"number",value:x,onChange:e=>{let t=+e.target.value;b(t),c.current=t,k()},className:"w-full border rounded px-2 py-1"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>y(e=>!e),className:"flex-1 bg-blue-600 text-white py-2 rounded",children:g?"Pause":"Start"}),(0,r.jsx)("button",{onClick:k,className:"flex-1 bg-gray-200 py-2 rounded",children:"Reset"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:function(){let e=[["# OpenLabs Virtual Physics Laboratory"],["# Experiment: Free Fall"],["# Date: ".concat(new Date().toLocaleString())],["# Initial Height (m): ".concat(x)],["# Gravity (m/s^2): ".concat(p)],["# Initial Velocity (m/s): ".concat(m)],["#"]],t=F.current.map(e=>[e.t.toFixed(4),e.y.toFixed(4),e.v.toFixed(4)]),n=new Blob([[...e.map(e=>e.join(",")),"time_s,height_m,velocity_mps",...t.map(e=>e.join(","))].join("\n")],{type:"text/csv"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="freefall_lab_".concat(Date.now(),".csv"),i.click(),URL.revokeObjectURL(r)},className:"flex-1 bg-green-600 text-white py-1 rounded",children:"CSV"}),(0,r.jsx)("button",{onClick:function(){let e=JSON.parse(localStorage.getItem(a)||"[]");e.push({date:new Date().toISOString(),params:{gravity:p,height:x,velocity:m},data:F.current}),localStorage.setItem(a,JSON.stringify(e)),alert("Run saved")},className:"flex-1 bg-orange-500 text-white py-1 rounded",children:"Save"})]}),(0,r.jsx)("button",{onClick:function(){let e=F.current.slice(-200),t='\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Free Fall Lab Report</title>\n  <style>\n    body {\n      font-family: "Segoe UI", Arial, sans-serif;\n      margin: 32px;\n      color: #111827;\n    }\n    h1 {\n      text-align: center;\n      margin-bottom: 4px;\n    }\n    .subtitle {\n      text-align: center;\n      color: #6b7280;\n      margin-bottom: 24px;\n    }\n    h2 {\n      margin-top: 28px;\n      border-bottom: 2px solid #e5e7eb;\n      padding-bottom: 4px;\n    }\n    .grid {\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px;\n      margin-top: 12px;\n    }\n    .card {\n      background: #f9fafb;\n      padding: 12px;\n      border-radius: 6px;\n      border: 1px solid #e5e7eb;\n    }\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-top: 12px;\n      font-size: 13px;\n    }\n    th, td {\n      border: 1px solid #e5e7eb;\n      padding: 6px 8px;\n      text-align: right;\n    }\n    th {\n      background: #f3f4f6;\n      text-align: center;\n    }\n    .footer {\n      margin-top: 32px;\n      font-size: 12px;\n      color: #6b7280;\n      text-align: center;\n    }\n    .print-btn {\n      margin-top: 24px;\n      text-align: center;\n    }\n    button {\n      padding: 8px 16px;\n      font-size: 14px;\n    }\n  </style>\n</head>\n\n<body>\n  <h1>FREE FALL LAB REPORT</h1>\n  <div class="subtitle">Uniformly Accelerated Motion under Gravity</div>\n\n  <h2>Experiment Details</h2>\n  <div class="grid">\n    <div class="card"><strong>Initial Height:</strong> '.concat(x.toFixed(2),' m</div>\n    <div class="card"><strong>Gravity:</strong> ').concat(p.toFixed(2),' m/s\xb2</div>\n    <div class="card"><strong>Total Time:</strong> ').concat(v.toFixed(2),' s</div>\n    <div class="card"><strong>Final Velocity:</strong> ').concat(m.toFixed(2)," m/s</div>\n  </div>\n\n  <h2>Observation Table</h2>\n  <table>\n    <thead>\n      <tr>\n        <th>Time (s)</th>\n        <th>Height (m)</th>\n        <th>Velocity (m/s)</th>\n      </tr>\n    </thead>\n    <tbody>\n      ").concat(e.map(e=>"\n        <tr>\n          <td>".concat(e.t.toFixed(3),"</td>\n          <td>").concat(e.y.toFixed(3),"</td>\n          <td>").concat(e.v.toFixed(3),"</td>\n        </tr>\n      ")).join(""),'\n    </tbody>\n  </table>\n\n  <div class="footer">\n    Generated by OpenLabs Virtual Physics Laboratory<br/>\n    ').concat(new Date().toLocaleString(),'\n  </div>\n\n  <div class="print-btn">\n    <button onclick="window.print()">Print / Save as PDF</button>\n  </div>\n</body>\n</html>\n'),n=window.open("","_blank");n.document.write(t),n.document.close()},className:"w-full bg-indigo-600 text-white py-1 rounded",children:"Printable Report (PDF)"})]}),(0,r.jsx)("div",{className:"md:col-span-2 bg-white p-3 rounded-xl shadow",children:(0,r.jsx)("canvas",{ref:o,className:"w-full rounded"})})]})]})}},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let r=n(8993);function i(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return n}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let r=n(7437),i=n(544);function a(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,i.getExpectedRequestStore)("next/dynamic css"),a=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,r.jsx)(r.Fragment,{children:a.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=5393)}),_N_E=e.O()}]);